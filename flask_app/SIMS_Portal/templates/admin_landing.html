{% extends "layout.html" %}
{% block content %}
<div class="container">
	<div id="hideMe">
		{% with messages = get_flashed_messages(with_categories=true) %}
			   {% if messages %}
				   {% for category, message in messages %}
					   <div class="mt-2 alert alert-{{ category }}">
						   {{ message }} 
					   </div>
				   {% endfor %}
			   {% endif %}
		{% endwith %}
	</div>
	<div class="row mt-6 mb-5">
		<div class="col col-md-3 rounded rounded-3 mb-5">
			<div class="card p-4 bg-danger mt-3 position-sticky" style="top: 15px;">
				<div class="row">
					<div>
						<h5 class="text-light Montserrat mb-3">Admin Controls</h5>
					<ul class="list-group border-0">
						<li class="list-group-item d-flex justify-content-between align-items-center">
							<div class="text-secondary active-link">
								<i data-feather="user" class="mr-3"></i>
								&nbsp Manage Profiles
							</div>
						</li>
						<li class="list-group-item d-flex justify-content-between align-items-center">
							<a href="#" class="text-secondary">
								<i data-feather="award" class="mr-3"></i> 
								&nbsp Assign Badges
							</a>
						</li>
						<li class="list-group-item d-flex justify-content-between align-items-center">
							<a href="#" class="text-secondary">
								<i data-feather="upload" class="mr-3"></i> 
								&nbsp Upload Badges
							</a>
						</li>
						<li class="list-group-item d-flex justify-content-between align-items-center">
							<a href="#" class="text-secondary">
								<i data-feather="thumbs-up" class="mr-3"></i> 
								&nbsp Approve Members
							</a>
						</li>
						<li class="list-group-item d-flex justify-content-between align-items-center">
							<a href="#" class="text-secondary">
								<i data-feather="book-open" class="mr-3"></i> 
								&nbsp Open Reviews
							</a>
						</li>
						<li class="list-group-item d-flex justify-content-between align-items-center">
							<a href="#" class="text-secondary">
								<i data-feather="list" class="mr-3"></i> 
								&nbsp Skills List
							</a>
						</li>
						<li class="list-group-item d-flex justify-content-between align-items-center">
							<a href="#" class="text-secondary">
								<i data-feather="pen-tool" class="mr-3"></i> 
								&nbsp Process Acronyms
							</a>
						</li>
						<li class="list-group-item d-flex justify-content-between align-items-center">
							<a href="#" class="text-secondary">
								<i data-feather="refresh-ccw" class="mr-3"></i> 
								&nbsp Manual Refresh
							</a>
						</li>
						<li class="list-group-item d-flex justify-content-between align-items-center">
							<a href="#" class="text-secondary">
								<i data-feather="settings" class="mr-3"></i> 
								&nbsp Admin Backend
							</a>
						</li>
					</ul>
					</div>
				</div>
			</div>		
		</div>
		<div class="col g-5">
			<div>
				<h2 class="text-dark Montserrat mb-5">Manage User Profile Types</h2>
				<form action="" method="POST" enctype="multipart/form-data" class="bg-light text-light p-4 border border-3 rounded-3" novalidate>
					{{ badge_form.hidden_tag() }}
					<div class='row'>
						<div class='col'>{{ profile_form.user_name.label(class="form-control-label pb-2 text-danger") }}</div>
						<div class='col'>{{ profile_form.profiles.label(class="form-control-label pb-2 text-danger") }}</div>
						<div class='col'>{{ profile_form.tier.label(class="form-control-label pb-2 text-danger") }}</div>
					</div>
					<div class='row mb-3'>
						<div class='col'>{{ profile_form.user_name(class="form-control form-control-lg") }} </div>
						<div class='col'>{{ profile_form.profiles(class="form-control form-control-lg") }}</div>
						<div class='col'>{{ profile_form.tier(class="form-control form-control-lg") }}</div>
					</div>
					<div class='col-2'>{{ profile_form.submit(class="btn btn-lg btn-danger mt-3 w-200") }}</div>
					<div class='row'>
					</div>
				</form>
				<div class='mt-5'>
					<h5 class='text-danger Montserrat mb-3'>Active Users' Profiles</h5>
					<table class='table grouped-table-rows' id='datatable-assigned-profiles' width="100%">
						<thead>
							<tr>
								<th>Member</th>
								<th>Profile</th>
								<th>Tier</th>
							</tr>
						</thead>
						<tbody>
							{% for profile in all_assigned_profiles %}
							<tr>
								<td class='fw-bold'><a href='/profile/view/{{profile.user_id}}'>{{profile.user_name}}</a></td>
								<td>&nbsp; &nbsp; {{profile.name}}</td>
								<td>{{profile.max_tier}}</td>
							</tr>
							{% endfor %}
						</tbody>
					</table>
				</div>
			
			</div>
		
		</div>
	</div>
</div>

{% endblock content %}